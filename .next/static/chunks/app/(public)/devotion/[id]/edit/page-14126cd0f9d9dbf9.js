(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4041],{1255:(e,r,l)=>{Promise.resolve().then(l.bind(l,6084))},3011:(e,r,l)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return n}});let t=l(2115);function n(e,r){let l=(0,t.useRef)(null),n=(0,t.useRef)(null);return(0,t.useCallback)(t=>{if(null===t){let e=l.current;e&&(l.current=null,e());let r=n.current;r&&(n.current=null,r())}else e&&(l.current=s(e,t)),r&&(n.current=s(r,t))},[e,r])}function s(e,r){if("function"!=typeof e)return e.current=r,()=>{e.current=null};{let l=e(r);return"function"==typeof l?l:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)},6084:(e,r,l)=>{"use strict";l.d(r,{DevotionEditForm:()=>b});var t=l(5155),n=l(2115),s=l(2544),c=l(6942),u=l(8720),d=l(926);let i=(0,d.createServerReference)("40237206bb973c0d8ec8cc847258db2ca88108a35f",d.callServer,void 0,d.findSourceMapURL,"updateDevotionAction");var o=l(7003),a=l(3209),x=l(1464),j=l(6170),h=l(7001),f=l(8655),p=l(4483);let m={id:"",title:"",scriptureRef:"",scriptureText:"",body:"",imageUrl:""};function b(e){let{initialValues:r}=e,[l,d]=(0,n.useState)(null),[b,v]=(0,n.useTransition)(),g=(0,s.mN)({resolver:(0,c.u)(p.J),defaultValues:{...m,...r}}),y=g.handleSubmit(e=>{d(null),v(async()=>{let r=await i(e);r&&"error"===r.status&&(r.fieldErrors&&Object.entries(r.fieldErrors).forEach(e=>{let[r,l]=e;(null==l?void 0:l.length)&&g.setError(r,{type:"server",message:l[0]})}),d(r.message),u.oR.error(r.message))})});return(0,t.jsxs)(a.Zp,{className:"shadow-md",children:[(0,t.jsxs)(a.aR,{children:[(0,t.jsx)(a.ZB,{children:"묵상 수정"}),(0,t.jsx)(a.BT,{children:"내용을 수정한 뒤 저장하면 즉시 반영됩니다."})]}),(0,t.jsx)(a.Wu,{children:(0,t.jsx)(x.lV,{...g,children:(0,t.jsxs)("form",{className:"space-y-4",onSubmit:y,children:[(0,t.jsx)("input",{type:"hidden",...g.register("id")}),(0,t.jsx)(x.zB,{control:g.control,name:"title",render:e=>{let{field:r}=e;return(0,t.jsxs)(x.eI,{children:[(0,t.jsx)(x.lR,{children:"제목"}),(0,t.jsx)(x.MJ,{children:(0,t.jsx)(j.p,{placeholder:"묵상 제목을 입력하세요.",...r})}),(0,t.jsx)(x.C5,{})]})}}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsx)(x.zB,{control:g.control,name:"scriptureRef",render:e=>{let{field:r}=e;return(0,t.jsxs)(x.eI,{children:[(0,t.jsx)(x.lR,{children:"성경 구절"}),(0,t.jsx)(x.MJ,{children:(0,t.jsx)(j.p,{placeholder:"예) 요한복음 3:16",...r})}),(0,t.jsx)(x.C5,{})]})}}),(0,t.jsx)(x.zB,{control:g.control,name:"scriptureText",render:e=>{let{field:r}=e;return(0,t.jsxs)(x.eI,{children:[(0,t.jsx)(x.lR,{children:"구절 내용"}),(0,t.jsx)(x.MJ,{children:(0,t.jsx)(h.T,{placeholder:"본문 내용을 입력해주세요.",className:"min-h-[100px]",...r})}),(0,t.jsx)(x.C5,{})]})}})]}),(0,t.jsx)(x.zB,{control:g.control,name:"body",render:e=>{let{field:r}=e;return(0,t.jsxs)(x.eI,{children:[(0,t.jsx)(x.lR,{children:"묵상 내용"}),(0,t.jsx)(x.MJ,{children:(0,t.jsx)(h.T,{placeholder:"받은 은혜와 기도 제목을 자유롭게 나눠주세요.",className:"min-h-[220px]",...r})}),(0,t.jsx)(x.C5,{})]})}}),(0,t.jsx)(x.zB,{control:g.control,name:"imageUrl",render:e=>{let{field:r}=e;return(0,t.jsxs)(x.eI,{children:[(0,t.jsx)(x.lR,{children:"대표 이미지 (선택)"}),(0,t.jsx)(x.MJ,{children:(0,t.jsx)(f.G,{value:r.value||null,onChange:e=>r.onChange(null!=e?e:""),label:"이미지는 5MB 이하의 파일만 업로드할 수 있습니다."})}),(0,t.jsx)(x.C5,{})]})}}),l&&(0,t.jsx)("p",{className:"text-sm text-destructive",children:l}),(0,t.jsx)(o.$,{type:"submit",disabled:b,className:"w-full",children:b?"수정 중...":"변경 사항 저장"})]})})}),(0,t.jsx)(a.wL,{className:"justify-end text-xs text-muted-foreground",children:"다른 언어 사용자와 공유할 때에는 브라우저의 자동 번역 기능을 이용해주세요."})]})}}},e=>{e.O(0,[8109,8720,1356,4737,6467,1740,8441,1255,7358],()=>e(e.s=1255)),_N_E=e.O()}]);