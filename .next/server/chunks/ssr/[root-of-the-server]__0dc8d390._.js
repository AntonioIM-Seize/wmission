module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},62212,a=>{a.n(a.i(66114))},65893,a=>{a.n(a.i(68852))},71859,a=>{"use strict";a.s(["Alert",()=>f,"AlertDescription",()=>h,"AlertTitle",()=>g]);var b=a.i(7997),c=a.i(96942),d=a.i(82248);let e=(0,c.cva)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function f({className:a,variant:c,...f}){return(0,b.jsx)("div",{"data-slot":"alert",role:"alert",className:(0,d.cn)(e({variant:c}),a),...f})}function g({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"alert-title",className:(0,d.cn)("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",a),...c})}function h({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"alert-description",className:(0,d.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",a),...c})}},32969,a=>{"use strict";a.s(["006e87d2ba50d7749061e0234a2c5ee819ab969621",()=>c.signOutAction],32969),a.s([],16709);var b=a.i(42998);a.i(16709);var c=b},56349,a=>{"use strict";a.s(["default",()=>x,"metadata",()=>w],56349);var b=a.i(7997),c=a.i(97647),d=a.i(71859),e=a.i(40088),f=a.i(43917),g=a.i(89365),h=a.i(3236),i=a.i(1269);let j=(0,i.default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),k=(0,i.default)("hand-heart",[["path",{d:"M11 14h2a2 2 0 0 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 16",key:"1v1a37"}],["path",{d:"m14.45 13.39 5.05-4.694C20.196 8 21 6.85 21 5.75a2.75 2.75 0 0 0-4.797-1.837.276.276 0 0 1-.406 0A2.75 2.75 0 0 0 11 5.75c0 1.2.802 2.248 1.5 2.946L16 11.95",key:"fhfbnt"}],["path",{d:"m2 15 6 6",key:"10dquu"}],["path",{d:"m7 20 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a1 1 0 0 0-2.75-2.91",key:"1x6kdw"}]]),l=(0,i.default)("handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]);var m=a.i(29171),n=a.i(55747);function o({prayer:a,language:d}){let e=a.isAnswered?`응답 완료 (${a.answeredAt?(0,n.formatDate)(a.answeredAt,d):""})`:"응답 대기";return(0,b.jsxs)(m.Card,{className:"h-full border border-border/60",children:[(0,b.jsxs)(m.CardHeader,{className:"space-y-2",children:[(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:(0,n.formatDate)(a.createdAt,d)}),(0,b.jsx)(m.CardTitle,{className:"text-base",children:a.content})]}),a.imageUrl&&(0,b.jsx)("div",{className:"relative h-36 w-full overflow-hidden",children:(0,b.jsx)(h.default,{src:a.imageUrl,alt:"기도 대표 이미지",fill:!0,className:"object-cover",sizes:"(min-width: 768px) 33vw, 100vw"})}),(0,b.jsxs)(m.CardContent,{className:"space-y-3 text-sm text-muted-foreground",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,b.jsx)(j,{className:`h-4 w-4 ${a.isAnswered?"text-emerald-500":"text-muted-foreground"}`}),e]}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,b.jsxs)("span",{children:["작성자: ",a.authorName]}),(0,b.jsxs)("span",{className:"inline-flex items-center gap-3",children:[(0,b.jsxs)("span",{className:"inline-flex items-center gap-1",children:[(0,b.jsx)(k,{className:"h-4 w-4 text-rose-500"})," ",a.reactions.amen]}),(0,b.jsxs)("span",{className:"inline-flex items-center gap-1",children:[(0,b.jsx)(l,{className:"h-4 w-4 text-sky-500"})," ",a.reactions.together]})]})]})]}),(0,b.jsx)(m.CardFooter,{children:(0,b.jsx)(f.Button,{asChild:!0,variant:"secondary",size:"sm",className:"w-full",children:(0,b.jsx)(c.default,{href:`/prayer/${a.id}`,children:"기도 내용 보기"})})})]})}var p=a.i(14617),q=a.i(77049),r=a.i(98310),s=a.i(44839);async function t(){var a,b,c;let d=await (0,r.createSupabaseServerClient)(),[{data:e,error:f},{data:g,error:h},{data:i,error:j}]=await Promise.all([d.from("site_settings").select("*").order("created_at",{ascending:!0}).limit(1).maybeSingle(),d.from("devotions").select(`
          id,
          title,
          scripture_ref,
          body,
          image_url,
          published_at,
          views,
          author:profiles!devotions_author_id_fkey (
            id,
            full_name,
            status
          )
        `).order("published_at",{ascending:!1}).limit(3),d.from("prayers").select(`
          id,
          content,
          created_at,
          is_answered,
          answered_at,
          image_url,
          author:profiles!prayers_author_id_fkey (
            id,
            full_name,
            status
          ),
          prayer_reactions (
            reaction_type
          )
        `).order("created_at",{ascending:!1}).limit(3)]);f&&console.error("사이트 설정 조회 실패",f),h&&console.error("최근 묵상 조회 실패",h),j&&console.error("최근 기도 조회 실패",j);let k=(a=e??null)?{id:a.id,verseRef:a.verse_ref,verseText:a.verse_text,mainPrayer:a.main_prayer,contactEmail:a.contact_email,contactPhone:a.contact_phone,contactNote:a.contact_note}:null;return{settings:k,devotions:(b=g??[],b?.length?b.map(a=>{let b=a.body??"";return{id:a.id,title:a.title,scriptureRef:a.scripture_ref,excerpt:(0,s.truncateText)((0,s.stripMarkdown)(b),140),publishedAt:a.published_at,views:a.views,authorName:a.author?.full_name??"익명",imageUrl:a.image_url??null}}):[]),prayers:(c=i??[],c?.length?c.map(a=>{let b=a.content??"",c=(a.prayer_reactions??[]).reduce((a,b)=>(b?.reaction_type&&("amen"===b.reaction_type&&(a.amen+=1),"together"===b.reaction_type&&(a.together+=1)),a),{amen:0,together:0});return{id:a.id,content:(0,s.truncateText)((0,s.stripMarkdown)(b),160),createdAt:a.created_at,isAnswered:a.is_answered,answeredAt:a.answered_at,authorName:a.author?.full_name??"익명",reactions:c,imageUrl:a.image_url??null}}):[])}}let u="위루다 선교 기도 공동체",v="선교지 소식과 기도 제목을 나누고 함께 중보하는 온라인 공동체입니다. 오늘의 말씀과 기도 제목을 확인하세요.",w={title:u,description:v,openGraph:{title:u,description:v,url:"/",siteName:u},twitter:{card:"summary",title:u,description:v}};async function x(){let a=await (0,q.detectInitialLanguage)(),{settings:d,devotions:h,prayers:i}=await t();return(0,b.jsxs)("div",{className:"space-y-12",children:["ko"!==a&&(0,b.jsx)(y,{language:a}),(0,b.jsx)("section",{className:"rounded-3xl bg-gradient-to-br from-sky-50 via-white to-emerald-50 p-8 shadow-sm",children:(0,b.jsxs)("div",{className:"grid gap-8 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[(0,b.jsx)(e.Badge,{variant:"secondary",children:"오늘의 말씀"}),d&&(0,b.jsx)("span",{className:"text-primary",children:d.verseRef})]}),(0,b.jsx)("h1",{className:"text-3xl font-semibold leading-snug text-slate-900 md:text-4xl",children:d?.verseText??"오늘의 말씀이 준비중입니다."})]}),(0,b.jsxs)("div",{className:"space-y-5 rounded-2xl border border-border bg-white/80 p-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-slate-800",children:"메인 기도 제목"}),(0,b.jsx)("p",{className:"mt-2 text-sm leading-relaxed text-muted-foreground",children:d?.mainPrayer??"주요 기도 제목이 곧 업데이트 됩니다."})]}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,b.jsx)(f.Button,{asChild:!0,variant:"default",children:(0,b.jsx)(c.default,{href:"/prayer",children:"기도 목록 보기"})}),(0,b.jsx)(f.Button,{asChild:!0,variant:"outline",children:(0,b.jsx)(c.default,{href:"/support",children:"문의하기"})})]})]})]})}),(0,b.jsxs)("section",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-slate-900",children:"최근 묵상"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"선교지 소식을 담은 묵상을 나눕니다."})]}),(0,b.jsx)(f.Button,{asChild:!0,variant:"outline",size:"sm",children:(0,b.jsx)(c.default,{href:"/devotion",children:"더 많은 묵상 보기"})})]}),h.length?(0,b.jsx)("div",{className:"grid gap-6 md:grid-cols-2 xl:grid-cols-3",children:h.map(c=>(0,b.jsx)(g.DevotionCard,{devotion:c,language:a},c.id))}):(0,b.jsx)(z,{message:"등록된 묵상이 아직 없습니다."})]}),(0,b.jsxs)("section",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-slate-900",children:"기도로 함께해요"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"가장 최근에 올라온 기도 제목입니다."})]}),(0,b.jsx)(f.Button,{asChild:!0,variant:"outline",size:"sm",children:(0,b.jsx)(c.default,{href:"/prayer",children:"기도 전체 보기"})})]}),i.length?(0,b.jsx)("div",{className:"grid gap-6 md:grid-cols-2 xl:grid-cols-3",children:i.map(c=>(0,b.jsx)(o,{prayer:c,language:a},c.id))}):(0,b.jsx)(z,{message:"기도 제목이 등록되면 이곳에서 확인할 수 있습니다."})]})]})}function y({language:a}){return(0,b.jsxs)(d.Alert,{className:"border-sky-200 bg-sky-50",children:[(0,b.jsx)(d.AlertTitle,{children:"브라우저 자동 번역 안내"}),(0,b.jsxs)(d.AlertDescription,{children:["현재 언어 (",p.LANGUAGE_LABEL[a]??a,") 사용자이시라면 브라우저의 자동 번역 기능을 사용하여 콘텐츠를 번역해 주세요. 본 서비스는 한국어 원문을 기본으로 제공합니다."]})]})}function z({message:a}){return(0,b.jsx)("div",{className:"rounded-2xl border border-dashed border-border/60 bg-muted/20 p-10 text-center text-sm text-muted-foreground",children:a})}}];

//# sourceMappingURL=%5Broot-of-the-server%5D__0dc8d390._.js.map