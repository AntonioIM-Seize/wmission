module.exports=[11388,a=>{"use strict";function b(a,b){var c="error";let d=JSON.stringify({level:c,message:a,meta:function(a){if(a)return JSON.parse(JSON.stringify(a,(a,b)=>b instanceof Error?{name:b.name,message:b.message,stack:b.stack}:b))}(b),timestamp:new Date().toISOString(),environment:"production"});switch(c){case"error":console.error(d);break;case"warn":console.warn(d);break;default:console.info(d)}}a.s(["logError",()=>b])},80455,(a,b,c)=>{b.exports=a.x("jsdom",()=>require("jsdom"))},93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},62212,a=>{a.n(a.i(66114))},65893,a=>{a.n(a.i(68852))},58903,a=>{"use strict";a.s(["Separator",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call Separator() from the server but Separator is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/ui/separator.tsx <module evaluation>","Separator")},19665,a=>{"use strict";a.s(["Separator",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call Separator() from the server but Separator is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/ui/separator.tsx","Separator")},20407,a=>{"use strict";a.i(58903);var b=a.i(19665);a.n(b)},71859,a=>{"use strict";a.s(["Alert",()=>f,"AlertDescription",()=>h,"AlertTitle",()=>g]);var b=a.i(7997),c=a.i(96942),d=a.i(82248);let e=(0,c.cva)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function f({className:a,variant:c,...f}){return(0,b.jsx)("div",{"data-slot":"alert",role:"alert",className:(0,d.cn)(e({variant:c}),a),...f})}function g({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"alert-title",className:(0,d.cn)("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",a),...c})}function h({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"alert-description",className:(0,d.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",a),...c})}},13047,a=>{a.n(a.i(67304))},4404,a=>{a.n(a.i(13348))},55046,a=>{"use strict";a.s(["devotionCreateSchema",()=>c,"devotionUpdateSchema",()=>d]);var b=a.i(83111);let c=b.z.object({title:b.z.string().min(3,"제목은 최소 3자 이상 입력해주세요."),scriptureRef:b.z.string().min(2,"성경 구절을 입력해주세요."),scriptureText:b.z.string().min(5,"구절 내용을 입력해주세요."),body:b.z.string().min(50,"묵상 내용은 최소 50자 이상 작성해주세요."),imageUrl:b.z.string().url("올바른 이미지 주소가 아닙니다.").optional().or(b.z.literal("").transform(()=>void 0))}),d=c.extend({id:b.z.string().uuid()})},29878,a=>{"use strict";a.s(["006e87d2ba50d7749061e0234a2c5ee819ab969621",()=>k.signOutAction,"407b6c36bdb832e57f6ea5151eb54c21a807c9b76e",()=>j],29878),a.s([],22003);var b=a.i(42998),c=a.i(37936);a.i(70396);var d=a.i(73727),e=a.i(53058),f=a.i(98310),g=a.i(51860),h=a.i(55046),i=a.i(11388);async function j(a){let b=await (0,e.requireApprovedStatus)(["approved"]),c=h.devotionCreateSchema.safeParse(a);if(!c.success)return{status:"error",message:"입력값을 확인해주세요.",fieldErrors:c.error.flatten().fieldErrors};let j=await (0,f.createSupabaseServerClient)(),k=(0,g.sanitizeHTML)(c.data.body),l=(0,g.sanitizeHTML)(c.data.scriptureText),{data:m,error:n}=await j.from("devotions").insert({author_id:b.id,title:c.data.title.trim(),scripture_ref:c.data.scriptureRef.trim(),scripture_text:l,body:k,image_url:c.data.imageUrl?c.data.imageUrl.trim():null}).select("id").single();if(n||!m)return(0,i.logError)("묵상 작성 실패",{error:n,profileId:b.id}),{status:"error",message:"묵상 작성 중 오류가 발생했습니다. 잠시 후 다시 시도해주세요."};(0,d.redirect)(`/devotion/${m.id}`)}(0,a.i(13095).ensureServerEntryExports)([j]),(0,c.registerServerReference)(j,"407b6c36bdb832e57f6ea5151eb54c21a807c9b76e",null),a.i(22003);var k=b},85413,a=>{"use strict";a.s(["DevotionForm",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call DevotionForm() from the server but DevotionForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/forms/devotion-form.tsx <module evaluation>","DevotionForm")},84807,a=>{"use strict";a.s(["DevotionForm",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call DevotionForm() from the server but DevotionForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/forms/devotion-form.tsx","DevotionForm")},86260,a=>{"use strict";a.i(85413);var b=a.i(84807);a.n(b)},29844,a=>{"use strict";a.s(["default",()=>i,"metadata",()=>h]);var b=a.i(7997),c=a.i(97647),d=a.i(71859),e=a.i(20407),f=a.i(86260),g=a.i(53058);let h={title:"묵상 작성 | 위루다 선교 공동체",description:"승인된 회원만 묵상을 작성할 수 있습니다."};async function i(){return await (0,g.requireApprovedStatus)(["approved"]),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("h1",{className:"text-2xl font-semibold text-slate-900",children:"묵상 작성"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"오늘 나눈 말씀과 기도 제목을 함께 공유해주세요."})]}),(0,b.jsxs)(d.Alert,{children:[(0,b.jsx)(d.AlertTitle,{children:"안내"}),(0,b.jsx)(d.AlertDescription,{children:"본 서비스는 한국어 원문을 기준으로 제공됩니다. 다른 언어 사용자는 브라우저 자동 번역 기능을 이용해 묵상을 확인하게 되니, 예의와 배려를 담아 정직하게 작성해주세요."})]}),(0,b.jsx)(f.DevotionForm,{}),(0,b.jsx)(e.Separator,{}),(0,b.jsxs)("p",{className:"text-center text-sm text-muted-foreground",children:["목록으로 돌아가기:"," ",(0,b.jsx)(c.default,{href:"/devotion",className:"text-primary underline-offset-4 hover:underline",children:"묵상 목록"})]})]})}}];

//# sourceMappingURL=%5Broot-of-the-server%5D__306ff06e._.js.map