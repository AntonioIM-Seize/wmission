module.exports=[37936,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"registerServerReference",{enumerable:!0,get:function(){return d.registerServerReference}});let d=a.r(11857)},13095,(a,b,c)=>{"use strict";function d(a){for(let b=0;b<a.length;b++){let c=a[b];if("function"!=typeof c)throw Object.defineProperty(Error(`A "use server" file can only export async functions, found ${typeof c}.
Read more: https://nextjs.org/docs/messages/invalid-use-server-value`),"__NEXT_ERROR_CODE",{value:"E352",enumerable:!1,configurable:!0})}}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"ensureServerEntryExports",{enumerable:!0,get:function(){return d}})},58903,a=>{"use strict";a.s(["Separator",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call Separator() from the server but Separator is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/ui/separator.tsx <module evaluation>","Separator")},19665,a=>{"use strict";a.s(["Separator",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call Separator() from the server but Separator is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/ui/separator.tsx","Separator")},20407,a=>{"use strict";a.i(58903);var b=a.i(19665);a.n(b)},55747,a=>{"use strict";a.s(["formatDate",()=>c]);var b=a.i(14617);function c(a,d=b.DEFAULT_LANGUAGE){if(!a)return"";let e=a instanceof Date?a:new Date(a);return Number.isNaN(e.getTime())?"":new Intl.DateTimeFormat(d,{year:"numeric",month:"short",day:"numeric"}).format(e)}},71859,a=>{"use strict";a.s(["Alert",()=>f,"AlertDescription",()=>h,"AlertTitle",()=>g]);var b=a.i(7997),c=a.i(96942),d=a.i(82248);let e=(0,c.cva)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function f({className:a,variant:c,...f}){return(0,b.jsx)("div",{"data-slot":"alert",role:"alert",className:(0,d.cn)(e({variant:c}),a),...f})}function g({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"alert-title",className:(0,d.cn)("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",a),...c})}function h({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"alert-description",className:(0,d.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",a),...c})}},93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},62212,a=>{a.n(a.i(66114))},43710,a=>{a.n(a.i(13954))},1269,a=>{"use strict";a.s(["default",()=>g],1269);var b=a.i(717);let c=a=>{let b=a.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,b,c)=>c?c.toUpperCase():b.toLowerCase());return b.charAt(0).toUpperCase()+b.slice(1)},d=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let f=(0,b.forwardRef)(({color:a="currentColor",size:c=24,strokeWidth:f=2,absoluteStrokeWidth:g,className:h="",children:i,iconNode:j,...k},l)=>(0,b.createElement)("svg",{ref:l,...e,width:c,height:c,stroke:a,strokeWidth:g?24*Number(f)/Number(c):f,className:d("lucide",h),...!i&&!(a=>{for(let b in a)if(b.startsWith("aria-")||"role"===b||"title"===b)return!0})(k)&&{"aria-hidden":"true"},...k},[...j.map(([a,c])=>(0,b.createElement)(a,c)),...Array.isArray(i)?i:[i]])),g=(a,e)=>{let g=(0,b.forwardRef)(({className:g,...h},i)=>(0,b.createElement)(f,{ref:i,iconNode:e,className:d(`lucide-${c(a).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${a}`,g),...h}));return g.displayName=c(a),g}},27035,a=>{"use strict";a.s(["getSiteSettings",()=>d]);var b=a.i(98310),c=a.i(11388);async function d(){let a=await (0,b.createSupabaseServerClient)(),{data:d,error:e}=await a.from("site_settings").select("*").order("created_at",{ascending:!0}).limit(1).maybeSingle();return e?((0,c.logError)("사이트 설정 조회 실패",{error:e}),null):d?{id:d.id,verseRef:d.verse_ref,verseText:d.verse_text,mainPrayer:d.main_prayer,contactEmail:d.contact_email,contactPhone:d.contact_phone,contactNote:d.contact_note,createdAt:d.created_at??void 0,updatedAt:d.updated_at??void 0}:null}},32395,a=>{"use strict";a.s(["60e4c17308f788a76d97515fb59ea25748aeab42c8",()=>i],32395),a.s([],24790);var b=a.i(37936),c=a.i(18558),d=a.i(53058),e=a.i(98310),f=a.i(83111);let g=f.z.object({id:f.z.string().uuid(),verseRef:f.z.string().trim().min(3,"성경 구절을 입력해주세요.").max(120,"성경 구절은 120자 이내로 입력해주세요."),verseText:f.z.string().trim().min(5,"말씀 내용을 입력해주세요.").max(1500,"말씀 내용은 1500자 이내로 입력해주세요."),mainPrayer:f.z.string().trim().min(5,"메인 기도 제목을 입력해주세요.").max(200,"메인 기도 제목은 200자 이내로 입력해주세요."),contactEmail:f.z.string().trim().email("연락받을 이메일을 입력해주세요.").max(120,"이메일은 120자 이내로 입력해주세요."),contactPhone:f.z.string().trim().min(5,"연락 가능한 전화번호나 채널을 입력해주세요.").max(60,"연락처는 60자 이내로 입력해주세요."),contactNote:f.z.string().trim().min(5,"연락 안내 문구를 입력해주세요.").max(200,"연락 안내 문구는 200자 이내로 입력해주세요.")});var h=a.i(11388);async function i(a,b){await (0,d.requireRole)("admin");let f=g.safeParse({id:b.get("id")?.toString(),verseRef:b.get("verseRef"),verseText:b.get("verseText"),mainPrayer:b.get("mainPrayer"),contactEmail:b.get("contactEmail"),contactPhone:b.get("contactPhone"),contactNote:b.get("contactNote")});if(!f.success)return{status:"error",message:f.error.issues[0]?.message??"입력값을 확인해주세요."};let i=await (0,e.createSupabaseServerClient)(),j=f.data,k={verse_ref:j.verseRef,verse_text:j.verseText,main_prayer:j.mainPrayer,contact_email:j.contactEmail,contact_phone:j.contactPhone,contact_note:j.contactNote},{error:l}=await i.from("site_settings").update(k).eq("id",j.id);return l?((0,h.logError)("사이트 설정 업데이트 실패",{error:l,settingsId:j.id}),{status:"error",message:"설정을 저장하지 못했습니다."}):((0,c.revalidatePath)("/admin/settings"),(0,c.revalidatePath)("/"),(0,c.revalidatePath)("/support"),{status:"success",message:"설정을 저장했습니다."})}(0,a.i(13095).ensureServerEntryExports)([i]),(0,b.registerServerReference)(i,"60e4c17308f788a76d97515fb59ea25748aeab42c8",null),a.i(24790)},85995,a=>{"use strict";a.s(["SettingsForm",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call SettingsForm() from the server but SettingsForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/admin/settings/settings-form.tsx <module evaluation>","SettingsForm")},65799,a=>{"use strict";a.s(["SettingsForm",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call SettingsForm() from the server but SettingsForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/admin/settings/settings-form.tsx","SettingsForm")},79875,a=>{"use strict";a.i(85995);var b=a.i(65799);a.n(b)},2884,a=>{"use strict";a.s(["CopyButton",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call CopyButton() from the server but CopyButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/admin/settings/copy-button.tsx <module evaluation>","CopyButton")},98020,a=>{"use strict";a.s(["CopyButton",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call CopyButton() from the server but CopyButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/admin/settings/copy-button.tsx","CopyButton")},36466,a=>{"use strict";a.i(2884);var b=a.i(98020);a.n(b)},66421,a=>{"use strict";a.s(["default",()=>n],66421);var b=a.i(7997),c=a.i(97647),d=a.i(43917),e=a.i(71859),f=a.i(20407),g=a.i(77049),h=a.i(27035),i=a.i(79875);let j=(0,a.i(1269).default)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);var k=a.i(55747),l=a.i(36466);function m({settings:a,language:c}){let d=a.updatedAt?(0,k.formatDate)(a.updatedAt,c):null;return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"rounded-xl border border-border/60 bg-white p-6 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:[(0,b.jsx)(j,{className:"h-4 w-4 text-amber-500"}),"홈 화면 프리뷰"]}),(0,b.jsx)("p",{className:"mt-4 text-sm font-semibold text-amber-700",children:a.verseRef}),(0,b.jsx)("blockquote",{className:"mt-2 whitespace-pre-line rounded-md border border-dashed border-amber-200 bg-amber-50/80 p-4 text-sm leading-relaxed text-slate-800",children:a.verseText}),(0,b.jsxs)("div",{className:"mt-4 space-y-1 text-xs text-muted-foreground",children:[(0,b.jsx)("p",{children:"메인 기도 제목"}),(0,b.jsx)("p",{className:"rounded-md bg-muted/40 px-3 py-2 text-sm text-slate-900",children:a.mainPrayer})]})]}),(0,b.jsxs)("div",{className:"rounded-xl border border-border/60 bg-white p-6 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-semibold text-slate-900",children:"문의 연락처"}),(0,b.jsx)("p",{children:a.contactEmail})]}),(0,b.jsx)(l.CopyButton,{value:`${a.contactEmail} ${a.contactPhone} ${a.contactNote}`,label:"연락처 복사"})]}),(0,b.jsxs)("dl",{className:"mt-4 space-y-2 text-sm",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between rounded-md border border-border/60 px-3 py-2",children:[(0,b.jsx)("dt",{className:"text-muted-foreground",children:"연락처"}),(0,b.jsx)("dd",{className:"font-medium text-slate-900",children:a.contactPhone})]}),(0,b.jsxs)("div",{className:"rounded-md border border-border/60 px-3 py-2",children:[(0,b.jsx)("dt",{className:"text-muted-foreground",children:"안내 문구"}),(0,b.jsx)("dd",{className:"mt-1 text-sm leading-relaxed text-slate-900",children:a.contactNote})]})]})]}),(0,b.jsxs)("div",{className:"rounded-xl border border-dashed border-border/60 bg-muted/20 p-4 text-xs text-muted-foreground",children:[(0,b.jsx)("p",{className:"font-semibold text-slate-900",children:"관리 가이드"}),(0,b.jsxs)("ul",{className:"mt-2 space-y-1",children:[(0,b.jsx)("li",{children:"- Verse/기도 문구는 HTML 없이 순수 텍스트로 입력해주세요."}),(0,b.jsx)("li",{children:"- 연락처는 이메일/전화/카카오톡 등 방문자가 바로 이용할 수 있는 정보로 입력해주세요."}),(0,b.jsx)("li",{children:"- 문의 안내 문구에는 응답 소요 시간이나 안내 사항을 간단히 적어주세요."}),(0,b.jsx)("li",{children:"- 값 저장 후 1분 이내에 홈·문의 페이지에 자동 반영됩니다."})]}),d&&(0,b.jsxs)("p",{className:"mt-3 text-xs",children:["마지막 수정일: ",d]})]})]})}async function n(){let a=await (0,h.getSiteSettings)();if(!a?.id)return(0,b.jsx)("div",{className:"rounded-xl border border-border/60 bg-muted/20 p-6 text-sm text-muted-foreground",children:"사이트 설정 정보가 없습니다. Supabase에서 기본 데이터를 확인해주세요."});let j=await (0,g.detectInitialLanguage)();return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-slate-900",children:"사이트 설정"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"홈/문의 페이지에 노출되는 주요 정보를 수정합니다."})]}),(0,b.jsx)(d.Button,{asChild:!0,variant:"outline",size:"sm",children:(0,b.jsx)(c.default,{href:"/",target:"_blank",children:"사이트 미리보기"})})]}),(0,b.jsxs)(e.Alert,{children:[(0,b.jsx)(e.AlertTitle,{children:"브라우저 번역 안내"}),(0,b.jsx)(e.AlertDescription,{children:"사이트는 한국어 원문을 기준으로 제공됩니다. 다른 언어 사용자에게 공유할 때에는 브라우저의 자동 번역 기능을 활용해주세요."})]}),(0,b.jsx)(o,{updatedAt:a.updatedAt,language:j}),(0,b.jsx)(f.Separator,{}),(0,b.jsxs)("section",{className:"grid gap-6 xl:grid-cols-[minmax(0,1fr)_360px]",children:[(0,b.jsx)(i.SettingsForm,{settings:a}),(0,b.jsx)(m,{settings:a,language:j})]})]})}function o({updatedAt:a,language:c}){if(!a)return(0,b.jsxs)(e.Alert,{variant:"destructive",children:[(0,b.jsx)(e.AlertTitle,{children:"최초 설정이 필요합니다"}),(0,b.jsx)(e.AlertDescription,{children:"Supabase 콘솔에서 기본 데이터를 입력한 뒤 저장해주세요."})]});let d=new Date(a),f=Math.floor((Date.now()-d.getTime())/864e5),g=f>60;return(0,b.jsxs)(e.Alert,{variant:g?"destructive":"default",children:[(0,b.jsx)(e.AlertTitle,{children:"최근 저장 정보"}),(0,b.jsxs)(e.AlertDescription,{children:["마지막 수정일은 ",(0,k.formatDate)(a,c)," (",f,"일 경과)입니다. 정기적으로 내용을 검토해주세요.",!g&&f>30&&" 최근 30일 내 변경 이력이 없습니다.",g&&" 60일 이상 경과했습니다. 최신 정보를 유지해주세요."]})]})}},16407,a=>{a.v(a=>Promise.resolve().then(()=>a(89431)))}];

//# sourceMappingURL=%5Broot-of-the-server%5D__e9630ad6._.js.map