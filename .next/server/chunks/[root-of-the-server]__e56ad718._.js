module.exports=[18622,(e,t,r)=>{t.exports=e.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},24725,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/after-task-async-storage.external.js",()=>require("next/dist/server/app-render/after-task-async-storage.external.js"))},70406,(e,t,r)=>{t.exports=e.x("next/dist/compiled/@opentelemetry/api",()=>require("next/dist/compiled/@opentelemetry/api"))},93695,(e,t,r)=>{t.exports=e.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},50723,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"RedirectStatusCode",{enumerable:!0,get:function(){return n}});var n=function(e){return e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e}({});("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},19334,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{REDIRECT_ERROR_CODE:function(){return o},RedirectType:function(){return a},isRedirectError:function(){return u}});let n=e.r(50723),o="NEXT_REDIRECT";var a=function(e){return e.push="push",e.replace="replace",e}({});function u(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let t=e.digest.split(";"),[r,a]=t,u=t.slice(2,-2).join(";"),i=Number(t.at(-2));return r===o&&("replace"===a||"push"===a)&&"string"==typeof u&&!isNaN(i)&&i in n.RedirectStatusCode}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},22349,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{getRedirectError:function(){return u},getRedirectStatusCodeFromError:function(){return c},getRedirectTypeFromError:function(){return d},getURLFromRedirectError:function(){return s},permanentRedirect:function(){return l},redirect:function(){return i}});let n=e.r(50723),o=e.r(19334),a=e.r(20635).actionAsyncStorage;function u(e,t,r){void 0===r&&(r=n.RedirectStatusCode.TemporaryRedirect);let a=Object.defineProperty(Error(o.REDIRECT_ERROR_CODE),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return a.digest=o.REDIRECT_ERROR_CODE+";"+t+";"+e+";"+r+";",a}function i(e,t){var r;throw null!=t||(t=(null==a||null==(r=a.getStore())?void 0:r.isAction)?o.RedirectType.push:o.RedirectType.replace),u(e,t,n.RedirectStatusCode.TemporaryRedirect)}function l(e,t){throw void 0===t&&(t=o.RedirectType.replace),u(e,t,n.RedirectStatusCode.PermanentRedirect)}function s(e){return(0,o.isRedirectError)(e)?e.digest.split(";").slice(2,-2).join(";"):null}function d(e){if(!(0,o.isRedirectError)(e))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return e.digest.split(";",2)[1]}function c(e){if(!(0,o.isRedirectError)(e))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return Number(e.digest.split(";").at(-2))}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},12053,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{HTTPAccessErrorStatus:function(){return n},HTTP_ERROR_FALLBACK_ERROR_CODE:function(){return a},getAccessFallbackErrorTypeByStatus:function(){return l},getAccessFallbackHTTPStatus:function(){return i},isHTTPAccessFallbackError:function(){return u}});let n={NOT_FOUND:404,FORBIDDEN:403,UNAUTHORIZED:401},o=new Set(Object.values(n)),a="NEXT_HTTP_ERROR_FALLBACK";function u(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,r]=e.digest.split(";");return t===a&&o.has(Number(r))}function i(e){return Number(e.digest.split(";")[1])}function l(e){switch(e){case 401:return"unauthorized";case 403:return"forbidden";case 404:return"not-found";default:return}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},2507,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"notFound",{enumerable:!0,get:function(){return o}});let n=""+e.r(12053).HTTP_ERROR_FALLBACK_ERROR_CODE+";404";function o(){let e=Object.defineProperty(Error(n),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});throw e.digest=n,e}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},47658,(e,t,r)=>{"use strict";function n(){throw Object.defineProperty(Error("`forbidden()` is experimental and only allowed to be enabled when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E488",enumerable:!1,configurable:!0})}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"forbidden",{enumerable:!0,get:function(){return n}}),e.r(12053).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},35458,(e,t,r)=>{"use strict";function n(){throw Object.defineProperty(Error("`unauthorized()` is experimental and only allowed to be used when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E411",enumerable:!1,configurable:!0})}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"unauthorized",{enumerable:!0,get:function(){return n}}),e.r(12053).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},67539,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isPostpone",{enumerable:!0,get:function(){return o}});let n=Symbol.for("react.postpone");function o(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}},62782,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isNextRouterError",{enumerable:!0,get:function(){return a}});let n=e.r(12053),o=e.r(19334);function a(e){return(0,o.isRedirectError)(e)||(0,n.isHTTPAccessFallbackError)(e)}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},17387,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"unstable_rethrow",{enumerable:!0,get:function(){return function e(t){if((0,u.isNextRouterError)(t)||(0,a.isBailoutToCSRError)(t)||(0,l.isDynamicServerError)(t)||(0,i.isDynamicPostpone)(t)||(0,o.isPostpone)(t)||(0,n.isHangingPromiseRejectionError)(t))throw t;t instanceof Error&&"cause"in t&&e(t.cause)}}});let n=e.r(4642),o=e.r(67539),a=e.r(31584),u=e.r(62782),i=e.r(68665),l=e.r(65252);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},9811,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"unstable_rethrow",{enumerable:!0,get:function(){return n}});let n=e.r(17387).unstable_rethrow;("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},79509,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{ReadonlyURLSearchParams:function(){return d},RedirectType:function(){return o.RedirectType},forbidden:function(){return u.forbidden},notFound:function(){return a.notFound},permanentRedirect:function(){return n.permanentRedirect},redirect:function(){return n.redirect},unauthorized:function(){return i.unauthorized},unstable_isUnrecognizedActionError:function(){return c},unstable_rethrow:function(){return l.unstable_rethrow}});let n=e.r(22349),o=e.r(19334),a=e.r(2507),u=e.r(47658),i=e.r(35458),l=e.r(9811);class s extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class d extends URLSearchParams{append(){throw new s}delete(){throw new s}set(){throw new s}sort(){throw new s}}function c(){throw Object.defineProperty(Error("`unstable_isUnrecognizedActionError` can only be used on the client."),"__NEXT_ERROR_CODE",{value:"E776",enumerable:!1,configurable:!0})}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},25686,13742,e=>{"use strict";e.s(["requireRole",()=>a],25686);var t=e.i(79509),r=e.i(89660);async function n(){let e=await (0,r.createSupabaseServerClient)(),{data:t,error:n}=await e.auth.getSession();return n?(console.error("세션 조회 실패",n),null):t.session}async function o(){let e=await n();if(!e?.user)return null;let t=await (0,r.createSupabaseServerClient)(),{data:o,error:a}=await t.from("profiles").select("*").eq("id",e.user.id).maybeSingle();return a?(console.error("프로필 조회 실패",a),null):o}async function a(e,r="/"){let n=await o();return n&&n.role===e||(0,t.redirect)(r),n}function u(e){return e.replace(/[%_]/g,e=>`\\${e}`)}e.s(["escapeIlikePattern",()=>u],13742)},69219,(e,t,r)=>{},27633,e=>{"use strict";e.s(["handler",()=>M,"patchFetch",()=>N,"routeModule",()=>w,"serverHooks",()=>A,"workAsyncStorage",()=>C,"workUnitAsyncStorage",()=>T],27633);var t=e.i(47909),r=e.i(74017),n=e.i(96250),o=e.i(59756),a=e.i(61916),u=e.i(69741),i=e.i(16795),l=e.i(87718),s=e.i(95169),d=e.i(47587),c=e.i(66012),p=e.i(70101),f=e.i(26937),R=e.i(10372),b=e.i(93695);e.i(52474);var _=e.i(5232);e.s(["GET",()=>j],61051);var m=e.i(89171),y=e.i(25686),E=e.i(89660),g=e.i(13742);async function v(e){let t=(await (0,E.createSupabaseServerClient)()).from("supporters").select("*").order("supported_on",{ascending:!1}).order("created_at",{ascending:!1}),r=e?.search?.trim();if(r){let e=`%${(0,g.escapeIlikePattern)(r)}%`;t=t.or(`name.ilike.${e},memo.ilike.${e}`)}e?.startDate&&(t=t.gte("supported_on",e.startDate)),e?.endDate&&(t=t.lte("supported_on",e.endDate)),"number"!=typeof e?.minAmount||Number.isNaN(e.minAmount)||(t=t.gte("amount",e.minAmount)),"number"!=typeof e?.maxAmount||Number.isNaN(e.maxAmount)||(t=t.lte("amount",e.maxAmount));let{data:n,error:o}=await t;return o?(console.error("후원자 목록 조회 실패",o),[]):n?.map(e=>({id:e.id,name:e.name,amount:Number(e.amount),supportedOn:e.supported_on,memo:e.memo,createdAt:e.created_at,updatedAt:e.updated_at}))??[]}function O(e){return!!e&&/^\d{4}-\d{2}-\d{2}$/.test(e)}function h(e){if(!e)return null;let t=Number(e);return Number.isFinite(t)?t:null}function x(e){if(null==e)return'""';let t=String(e).replace(/"/g,'""');return`"${t}"`}async function j(e){await (0,y.requireRole)("admin");let{searchParams:t}=new URL(e.url),r=t.get("q")?.trim()??"",n=O(t.get("startDate"))?t.get("startDate"):null,o=O(t.get("endDate"))?t.get("endDate"):null,a=h(t.get("minAmount")),u=h(t.get("maxAmount"));if(n&&o&&n>o)return new m.NextResponse("날짜 범위가 올바르지 않습니다.",{status:400});let i=await v({search:r||null,startDate:n,endDate:o,minAmount:a,maxAmount:u}),l=[["이름","금액","후원일","메모","등록일"].map(x).join(","),...i.map(e=>[e.name,e.amount,e.supportedOn,e.memo??"",e.createdAt].map(x).join(","))],s=`\ufeff${l.join("\r\n")}`,d=`supporters-${new Date().toISOString().slice(0,10)}.csv`;return new m.NextResponse(s,{status:200,headers:{"Content-Type":"text/csv; charset=utf-8","Content-Disposition":`attachment; filename="${d}"`,"Cache-Control":"no-store"}})}var P=e.i(61051);let w=new t.AppRouteRouteModule({definition:{kind:r.RouteKind.APP_ROUTE,page:"/(admin)/admin/supporters/export/route",pathname:"/admin/supporters/export",filename:"route",bundlePath:""},distDir:".next",relativeProjectDir:"",resolvedPagePath:"[project]/app/(admin)/admin/supporters/export/route.ts",nextConfigOutput:"",userland:P}),{workAsyncStorage:C,workUnitAsyncStorage:T,serverHooks:A}=w;function N(){return(0,n.patchFetch)({workAsyncStorage:C,workUnitAsyncStorage:T})}async function M(e,t,n){var m;let y="/(admin)/admin/supporters/export/route";y=y.replace(/\/index$/,"")||"/";let E=await w.prepare(e,t,{srcPage:y,multiZoneDraftMode:!1});if(!E)return t.statusCode=400,t.end("Bad Request"),null==n.waitUntil||n.waitUntil.call(n,Promise.resolve()),null;let{buildId:g,params:v,nextConfig:O,isDraftMode:h,prerenderManifest:x,routerServerContext:j,isOnDemandRevalidate:P,revalidateOnlyGenerated:C,resolvedPathname:T}=E,A=(0,u.normalizeAppPath)(y),N=!!(x.dynamicRoutes[A]||x.routes[T]);if(N&&!h){let e=!!x.routes[T],t=x.dynamicRoutes[A];if(t&&!1===t.fallback&&!e)throw new b.NoFallbackError}let M=null;!N||w.isDev||h||(M="/index"===(M=T)?"/":M);let S=!0===w.isDev||!N,D=N&&!S,k=e.method||"GET",H=(0,a.getTracer)(),F=H.getActiveScopeSpan(),U={params:v,prerenderManifest:x,renderOpts:{experimental:{cacheComponents:!!O.experimental.cacheComponents,authInterrupts:!!O.experimental.authInterrupts},supportsDynamicResponse:S,incrementalCache:(0,o.getRequestMeta)(e,"incrementalCache"),cacheLifeProfiles:null==(m=O.experimental)?void 0:m.cacheLife,isRevalidate:D,waitUntil:n.waitUntil,onClose:e=>{t.on("close",e)},onAfterTaskError:void 0,onInstrumentationRequestError:(t,r,n)=>w.onRequestError(e,t,n,j)},sharedContext:{buildId:g}},q=new i.NodeNextRequest(e),I=new i.NodeNextResponse(t),L=l.NextRequestAdapter.fromNodeNextRequest(q,(0,l.signalFromNodeResponse)(t));try{let u=async r=>w.handle(L,U).finally(()=>{if(!r)return;r.setAttributes({"http.status_code":t.statusCode,"next.rsc":!1});let n=H.getRootSpanAttributes();if(!n)return;if(n.get("next.span_type")!==s.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${n.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let o=n.get("next.route");if(o){let e=`${k} ${o}`;r.setAttributes({"next.route":o,"http.route":o,"next.span_name":e}),r.updateName(e)}else r.updateName(`${k} ${e.url}`)}),i=async a=>{var i,l;let s=async({previousCacheEntry:r})=>{try{if(!(0,o.getRequestMeta)(e,"minimalMode")&&P&&C&&!r)return t.statusCode=404,t.setHeader("x-nextjs-cache","REVALIDATED"),t.end("This page could not be found"),null;let i=await u(a);e.fetchMetrics=U.renderOpts.fetchMetrics;let l=U.renderOpts.pendingWaitUntil;l&&n.waitUntil&&(n.waitUntil(l),l=void 0);let s=U.renderOpts.collectedTags;if(!N)return await (0,c.sendResponse)(q,I,i,U.renderOpts.pendingWaitUntil),null;{let e=await i.blob(),t=(0,p.toNodeOutgoingHttpHeaders)(i.headers);s&&(t[R.NEXT_CACHE_TAGS_HEADER]=s),!t["content-type"]&&e.type&&(t["content-type"]=e.type);let r=void 0!==U.renderOpts.collectedRevalidate&&!(U.renderOpts.collectedRevalidate>=R.INFINITE_CACHE)&&U.renderOpts.collectedRevalidate,n=void 0===U.renderOpts.collectedExpire||U.renderOpts.collectedExpire>=R.INFINITE_CACHE?void 0:U.renderOpts.collectedExpire;return{value:{kind:_.CachedRouteKind.APP_ROUTE,status:i.status,body:Buffer.from(await e.arrayBuffer()),headers:t},cacheControl:{revalidate:r,expire:n}}}}catch(t){throw(null==r?void 0:r.isStale)&&await w.onRequestError(e,t,{routerKind:"App Router",routePath:y,routeType:"route",revalidateReason:(0,d.getRevalidateReason)({isRevalidate:D,isOnDemandRevalidate:P})},j),t}},b=await w.handleResponse({req:e,nextConfig:O,cacheKey:M,routeKind:r.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:x,isRoutePPREnabled:!1,isOnDemandRevalidate:P,revalidateOnlyGenerated:C,responseGenerator:s,waitUntil:n.waitUntil});if(!N)return null;if((null==b||null==(i=b.value)?void 0:i.kind)!==_.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==b||null==(l=b.value)?void 0:l.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});(0,o.getRequestMeta)(e,"minimalMode")||t.setHeader("x-nextjs-cache",P?"REVALIDATED":b.isMiss?"MISS":b.isStale?"STALE":"HIT"),h&&t.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let m=(0,p.fromNodeOutgoingHttpHeaders)(b.value.headers);return(0,o.getRequestMeta)(e,"minimalMode")&&N||m.delete(R.NEXT_CACHE_TAGS_HEADER),!b.cacheControl||t.getHeader("Cache-Control")||m.get("Cache-Control")||m.set("Cache-Control",(0,f.getCacheControlHeader)(b.cacheControl)),await (0,c.sendResponse)(q,I,new Response(b.value.body,{headers:m,status:b.value.status||200})),null};F?await i(F):await H.withPropagatedContext(e.headers,()=>H.trace(s.BaseServerSpan.handleRequest,{spanName:`${k} ${e.url}`,kind:a.SpanKind.SERVER,attributes:{"http.method":k,"http.target":e.url}},i))}catch(t){if(t instanceof b.NoFallbackError||await w.onRequestError(e,t,{routerKind:"App Router",routePath:A,routeType:"route",revalidateReason:(0,d.getRevalidateReason)({isRevalidate:D,isOnDemandRevalidate:P})}),N)throw t;return await (0,c.sendResponse)(q,I,new Response(null,{status:500})),null}}},36145,e=>{e.v(e=>Promise.resolve().then(()=>e(2808)))}];

//# sourceMappingURL=%5Broot-of-the-server%5D__e56ad718._.js.map